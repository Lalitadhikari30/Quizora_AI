

# =========================
# Server
# =========================
server.port=8081

# =========================
# Database (Supabase PostgreSQL - Pooler)
# =========================
# H2 Database for immediate testing
spring.datasource.url=jdbc:h2:mem:quizora
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# Commented out PostgreSQL for now
# spring.datasource.url=jdbc:postgresql://aws-1-ap-southeast-1.pooler.supabase.com:5432/postgres?sslmode=require
# spring.datasource.username=postgres.gplfxihikpsppsbctjpv
# spring.datasource.password=Lalitadhikari
# spring.datasource.driver-class-name=org.postgresql.Driver

# Hibernate
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# Hikari Pool Stability (CRITICAL for Supabase free tier)
spring.datasource.hikari.maximum-pool-size=3
spring.datasource.hikari.minimum-idle=1
spring.datasource.hikari.idle-timeout=10000
spring.datasource.hikari.max-lifetime=30000
spring.datasource.hikari.connection-timeout=30000

# =========================
# Multipart File Upload Configuration
# =========================
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=50MB
spring.servlet.multipart.file-size-threshold=2KB
spring.servlet.multipart.location=${java.io.tmpdir}
spring.servlet.multipart.resolve-lazily=false
spring.servlet.multipart.strict-servlet-compliance=false

# Local upload directory (fallback)
upload.directory=C:/Users/Fam/Downloads/QuizoraAI/uploads

# =========================
# Supabase Configuration
# =========================
SUPABASE_URL=https://gplfxihikpsppsbctjpv.supabase.co
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdwbGZ4aWhpa3BzcHBzYmN0anB2Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc3MTEwODQxNiwiZXhwIjoyMDg2Njg0NDE2fQ.O7Zc6SKB96ygerDIOFu7IjgT3N17L2XXBQTC-HdR4lE
SUPABASE_JWK_URL=https://gplfxihikpsppsbctjpv.supabase.co/auth/v1/jwks
SUPABASE_STORAGE_BUCKET=quizora-files

# =========================
# AI Configuration
# =========================
AI_API_KEY=AIzaSyAhSGjR6LbNLzPdw1a4jJn-e8DKAH44_xw
AI_API_URL=https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent

# =========================
# File Upload Local Directory
# =========================
upload.directory=uploads
